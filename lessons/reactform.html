<!DOCTYPE html>
<html>
    <head>
        <title>React Project</title>
        <script src="https://unpkg.com/react@16.7.0/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    </head>
    <body>
        <div id="root"></div>


        <script type="text/babel">
        class FavoriteColorForm extends React.Component {
        	state = { value: ''}

        	newColor = e =>
        		this.setState({ value: e.target.value })

        	submit = e => {
        		console.log(`New Color: ${this.state.value}`)
        		e.preventDefault()
        	}

        	render() {
        		return (
        			<form onSubmit={this.submit}>
        				<label>
        					Favorite Color:
        					<input
        						type="color"
        						onChange={this.newColor} />
        				</label>
        				<button>Submit</button>
        			</form>
        		)
        	}
        }


        const Navbar = () => <a href="../index.html">Home</a>
//----------------------------------------
//When the data is handled by the components, all the data is stored
//in the component state
class MyForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      username: '',
      age: null,
      value: '',
      errormessage: ''
    };
  }
  newColor = e =>
    this.setState({ value: e.target.value })

 mySubmitHandler = (event) => {
    event.preventDefault();
    let age = this.state.age;
    console.log(`New Color: ${this.state.value}`)
    console.log('Thank you', this.state.username, this.state.age)
  /*  if (!Number(age)) {
      alert("Your age must be a number");
    }*/
  }

  myChangeHandler = (event) => {
    let nam = event.target.name;
    let val = event.target.value;
    let err = '';

    if (nam === "age") {
       if (val !="" && !Number(val)) {
         err = <strong>Your age must be a number</strong>;
       }
     }
     this.setState({errormessage: err});

     this.setState({[nam]: val});
  }
  render() {
    return (
      <form onSubmit={this.mySubmitHandler}>
      <label>
        Favorite Color:
        <input
          type="color"
          onChange={this.newColor} />
      </label>
      <p>Enter your name:</p>
      <input
        type='text'
        name='username'
        onChange={this.myChangeHandler}
      />
      <p>Enter your age:</p>
      <input
        type='text'
        name='age'
        onChange={this.myChangeHandler}
      />
      {this.state.errormessage}
      <br/><br/>
     <input type='submit' />
      </form>

    );
  }
}


//------------------------------------------
    /*    class NameForm extends React.Component {
          constructor(props) {
            super(props);
            this.state = {value: ''};

            this.handleChange = this.handleChange.bind(this);
            this.handleSubmit = this.handleSubmit.bind(this);
          }

          handleChange(event) {
            this.setState({value: event.target.value});
          }

          handleSubmit(event) {
            alert('A name was submitted: ' + this.state.value);
            event.preventDefault();
          }

          render() {
            return (
              <form onSubmit={this.handleSubmit}>
                <label>
                  Name:
                  <input type="text" value={this.state.value} onChange={this.handleChange} />
                </label>
                <input type="submit" value="Submit" />
              </form>
            );
          }
        } */
//-----------------------------------------------------




            ReactDOM.render(
              <div>
                <Navbar ></Navbar> <br />
                <MyForm />

              </div>
             ,
                document.getElementById("root")
            );
        </script>
    </body>
</html>
