<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>React - lesson 1</title>
    <script  src="https://unpkg.com/react@16.7.0/umd/react.development.js" > </script>
    <script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js" > </script>

  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  </head>
  <body>
    <!-- create html div ; cant use class name for react-->
    <div id="root"></div>

<script type="text/babel">

const Navbar = () => <a href="../index.html">Home</a>

  const Book = ({title, author, pages}) => {
    return (
        <section>
        <h2>{title}</h2>
        <p>by: {author}</p>
        <p>pages: {pages} pages</p>
       </section>)
  }
  // in order to use state need to create ES6 class component instead of function component
  //const Library = ({books}) =>{

  class Library extends React.Component {
    state = {open : false}

    toggleOpenClosed = () =>{
      this.setState(prevState => ({
        open: !prevState.open
      }))
    }
    render() {

          const {books} = this.props;
      return (
        <div>
        <Navbar />
            <h1 style={{color: this.props.color}}>
               The library is {this.state.open ? 'Open' : 'Close'}
            </h1>
            <button onClick={this.toggleOpenClosed}>Change</button>
        { books.map( (book, i) =>
          <Book key = {i} title = {book.title} author = { book.author} pages = {book.pages} />
          )
        }

      </div>)
    }
  }
  let bookListArry = [
    {
      "title": "The Sun Also Rises",
      "author": "Ernest Hemingway",
      "pages": 260
    }, {
      "title": "White Teeth",
      "author": "Zadie Smith",
      "pages": 480
    }, {
      "title": "The Sun Also Rises",
      "author": "Ernest Hemingway",
      "pages": 260
    }, {
      "title": "Hunger",
      "author": "Roxane Gay",
      "pages": 320
    }
  ]
  ReactDOM.render(
    <Library books={bookListArry} color="blue"/>,
  document.getElementById('root'))


</script>
  </body>
</html>
